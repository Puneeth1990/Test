<!DOCTYPE html>
<html lang="en" data-ng-app="myApp">
  <head>
    <title>AngularJS Form Title</title>
    <script type="text/javascript" src="http://code.angularjs.org/1.2.25/angular.min.js"></script>
    <script type="text/javascript" src="js/modules/promise-tracker.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
  </head>
  
  <script>
  'use strict';

  angular.module('webappApp')
    .controller('MainCtrl',['$scope','EmailService', function ($scope,EmailService) {
      
      $scope.emailService = new EmailService();
      $scope.emailService.email = '';
      console.log($scope.emailService);
      $scope.send = function(){

      	$scope.emailService.$save(function(){
      		$scope.emailService = new EmailService();
      	});
      };
      
      .factory('EmailService', function($resource) {
    	     return $resource('../rest/email',{ },
    	     {
    	   
    	    }
    	    );
    	  });

    }]);

  </script>
  
  <script>
  	($document).getREady
  </script>
  
  <body>
 
		<nav class="navbar navbar-inverse navbar-fixed-top">
			<div class ="container">
				<div class="navbar-header">
					<a class="navbar-brand" href="/">
						Controllers
					</a>
				</div>
			</div>
		</nav>
		
		<div class="container main-content" ng-controller="testController">
			<form>
				<div class="form-group">
					<label for="name"> Name</label>
					<input type="text" class="form-control" id="name" ng-model="nameService.name">
				</div>
				
				<div class="form-group">
					<label for="email"> Email</label>
					<input type="text" class="form-control" id="email" ng-model="emailService.email">
				</div>
			</form>
			<button type="submit" class="btn btn-success" ng-click="send()" ng-disabled="emailform.$invalid">Reset Password</button>
		</div>
  </body>
</html>
